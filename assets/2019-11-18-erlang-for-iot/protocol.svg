<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="385px" preserveAspectRatio="none" style="width:711px;height:385px;" version="1.1" viewBox="0 0 711 385" width="711px" zoomAndPan="magnify"><defs><filter height="300%" id="fpikbwp16ki14" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#fpikbwp16ki14)" height="125.6641" style="stroke: #000000; stroke-width: 2.0;" width="687.5" x="13" y="163.8281"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="322" x2="322" y1="38.2969" y2="345.625"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="449" x2="449" y1="38.2969" y2="345.625"/><rect fill="#FEFECE" filter="url(#fpikbwp16ki14)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="120" x="260" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="106" x="267" y="22.9951">Physical Device</text><rect fill="#FEFECE" filter="url(#fpikbwp16ki14)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="120" x="260" y="344.625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="106" x="267" y="364.6201">Physical Device</text><rect fill="#FEFECE" filter="url(#fpikbwp16ki14)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="107" x="394" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="93" x="401" y="22.9951">Digital Device</text><rect fill="#FEFECE" filter="url(#fpikbwp16ki14)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="107" x="394" y="344.625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="93" x="401" y="364.6201">Digital Device</text><polygon fill="#A80036" points="437.5,85.5625,447.5,89.5625,437.5,93.5625,441.5,89.5625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="322" x2="443.5" y1="89.5625" y2="89.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="63" x="329" y="84.4966">announce</text><path d="M64,53.2969 L64,108.2969 L313,108.2969 L313,63.2969 L303,53.2969 L64,53.2969 " fill="#FBFB77" filter="url(#fpikbwp16ki14)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M303,53.2969 L303,63.2969 L313,63.2969 L303,53.2969 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="174" x="70" y="70.3638">[ integer(8) message_type:</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="248" y="70.3638">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="257" y="70.3638">,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="154" x="78" y="85.4966">integer(16) device_id: 1,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="220" x="78" y="100.6294">integer(16) samples_to_send: 10 ]</text><polygon fill="#A80036" points="333,139.8281,323,143.8281,333,147.8281,329,143.8281" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="327" x2="448.5" y1="143.8281" y2="143.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="22" x="339" y="138.7622">ack</text><path d="M454,122.6953 L454,147.6953 L671,147.6953 L671,132.6953 L661,122.6953 L454,122.6953 " fill="#FBFB77" filter="url(#fpikbwp16ki14)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M661,122.6953 L661,132.6953 L671,132.6953 L661,122.6953 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="174" x="460" y="139.7622">[ integer(8) message_type:</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="638" y="139.7622">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="651" y="139.7622">]</text><path d="M13,163.8281 L90,163.8281 L90,170.8281 L80,180.8281 L13,180.8281 L13,163.8281 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="125.6641" style="stroke: #000000; stroke-width: 2.0;" width="687.5" x="13" y="163.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="32" x="28" y="176.895">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="65" x="105" y="176.0386">[10 times]</text><polygon fill="#A80036" points="437.5,218.2266,447.5,222.2266,437.5,226.2266,441.5,222.2266" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="322" x2="443.5" y1="222.2266" y2="222.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="50" x="329" y="217.1606">transfer</text><path d="M23,185.9609 L23,240.9609 L313,240.9609 L313,195.9609 L303,185.9609 L23,185.9609 " fill="#FBFB77" filter="url(#fpikbwp16ki14)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M303,185.9609 L303,195.9609 L313,195.9609 L303,185.9609 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="174" x="29" y="203.0278">[ integer(8) message_type:</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="207" y="203.0278">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="216" y="203.0278">,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="261" x="37" y="218.1606">integer(64) timestamp: 1546289032000,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="202" x="37" y="233.2935">integer (64) adc_count: 28753 ]</text><polygon fill="#A80036" points="333,272.4922,323,276.4922,333,280.4922,329,276.4922" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="327" x2="448.5" y1="276.4922" y2="276.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="22" x="339" y="271.4263">ack</text><path d="M454,255.3594 L454,280.3594 L681,280.3594 L681,265.3594 L671,255.3594 L454,255.3594 " fill="#FBFB77" filter="url(#fpikbwp16ki14)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M671,255.3594 L671,265.3594 L681,265.3594 L671,255.3594 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="179" x="460" y="272.4263">"[ integer(8) message_type:</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="643" y="272.4263">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="10" x="656" y="272.4263">]"</text><polygon fill="#A80036" points="437.5,318.625,447.5,322.625,437.5,326.625,441.5,322.625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="322" x2="443.5" y1="322.625" y2="322.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="63" x="329" y="317.5591">terminate</text><path d="M91,301.4922 L91,326.4922 L313,326.4922 L313,311.4922 L303,301.4922 L91,301.4922 " fill="#FBFB77" filter="url(#fpikbwp16ki14)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M303,301.4922 L303,311.4922 L313,311.4922 L303,301.4922 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="179" x="97" y="318.5591">"[ integer(8) message_type:</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="280" y="318.5591">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="293" y="318.5591">]</text><!--MD5=[7673e063efa295ba74866b5063cd34f9]
@startuml
participant "Physical Device" as PD
participant "Digital Device" as DD

PD -> DD: announce
note left
  [ integer(8) message_type: **1**,
    integer(16) device_id: 1,
    integer(16) samples_to_send: 10 ]
end note

DD -> PD: ack
note right: [ integer(8) message_type: **2** ]

loop 10 times
PD -> DD: transfer
note left
  [ integer(8) message_type: **3**,
    integer(64) timestamp: 1546289032000,
    integer (64) adc_count: 28753 ]
end note

DD -> PD: ack
note right: "[ integer(8) message_type: **4** ]"
end

PD -> DD: terminate
note left: "[ integer(8) message_type: **5** ]
@enduml

PlantUML version 1.2019.12(Sun Nov 03 10:24:54 UTC 2019)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.7.0_25-b15
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>