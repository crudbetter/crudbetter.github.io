<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="385px" preserveAspectRatio="none" style="width:661px;height:385px;" version="1.1" viewBox="0 0 661 385" width="661px" zoomAndPan="magnify"><defs><filter height="300%" id="f11r9u570hpfz1" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f11r9u570hpfz1)" height="125.6641" style="stroke: #000000; stroke-width: 2.0;" width="638.5" x="12" y="163.8281"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="321" x2="321" y1="38.2969" y2="345.625"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="408.5" x2="408.5" y1="38.2969" y2="345.625"/><rect fill="#FEFECE" filter="url(#f11r9u570hpfz1)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="61" x="289" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="47" x="296" y="22.9951">Device</text><rect fill="#FEFECE" filter="url(#f11r9u570hpfz1)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="61" x="289" y="344.625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="47" x="296" y="364.6201">Device</text><rect fill="#FEFECE" filter="url(#f11r9u570hpfz1)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="70" x="371.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="56" x="378.5" y="22.9951">VDevice</text><rect fill="#FEFECE" filter="url(#f11r9u570hpfz1)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="70" x="371.5" y="344.625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="56" x="378.5" y="364.6201">VDevice</text><polygon fill="#A80036" points="396.5,85.5625,406.5,89.5625,396.5,93.5625,400.5,89.5625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="321.5" x2="402.5" y1="89.5625" y2="89.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="63" x="328.5" y="84.4966">announce</text><path d="M91,53.2969 L91,108.2969 L312,108.2969 L312,63.2969 L302,53.2969 L91,53.2969 " fill="#FBFB77" filter="url(#f11r9u570hpfz1)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M302,53.2969 L302,63.2969 L312,63.2969 L302,53.2969 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="175" x="97" y="70.3638">[ integer(8) message_num:</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="276" y="70.3638">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="285" y="70.3638">,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="154" x="105" y="85.4966">integer(16) device_id: 1,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="192" x="105" y="100.6294">integer(16) buffer_length: 10 ]</text><polygon fill="#A80036" points="332.5,139.8281,322.5,143.8281,332.5,147.8281,328.5,143.8281" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="326.5" x2="407.5" y1="143.8281" y2="143.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="22" x="338.5" y="138.7622">ack</text><path d="M413,122.6953 L413,147.6953 L631,147.6953 L631,132.6953 L621,122.6953 L413,122.6953 " fill="#FBFB77" filter="url(#f11r9u570hpfz1)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M621,122.6953 L621,132.6953 L631,132.6953 L621,122.6953 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="175" x="419" y="139.7622">[ integer(8) message_num:</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="598" y="139.7622">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="611" y="139.7622">]</text><path d="M12,163.8281 L89,163.8281 L89,170.8281 L79,180.8281 L12,180.8281 L12,163.8281 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="125.6641" style="stroke: #000000; stroke-width: 2.0;" width="638.5" x="12" y="163.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="32" x="27" y="176.895">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="65" x="104" y="176.0386">[10 times]</text><polygon fill="#A80036" points="396.5,218.2266,406.5,222.2266,396.5,226.2266,400.5,222.2266" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="321.5" x2="402.5" y1="222.2266" y2="222.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="50" x="328.5" y="217.1606">transfer</text><path d="M22,185.9609 L22,240.9609 L312,240.9609 L312,195.9609 L302,185.9609 L22,185.9609 " fill="#FBFB77" filter="url(#f11r9u570hpfz1)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M302,185.9609 L302,195.9609 L312,195.9609 L302,185.9609 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="175" x="28" y="203.0278">[ integer(8) message_num:</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="207" y="203.0278">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="216" y="203.0278">,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="261" x="36" y="218.1606">integer(64) timestamp: 1546289032000,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="202" x="36" y="233.2935">integer(64) adc_count:  28753 ]</text><polygon fill="#A80036" points="332.5,272.4922,322.5,276.4922,332.5,280.4922,328.5,276.4922" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="326.5" x2="407.5" y1="276.4922" y2="276.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="22" x="338.5" y="271.4263">ack</text><path d="M413,255.3594 L413,280.3594 L631,280.3594 L631,265.3594 L621,255.3594 L413,255.3594 " fill="#FBFB77" filter="url(#f11r9u570hpfz1)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M621,255.3594 L621,265.3594 L631,265.3594 L621,255.3594 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="175" x="419" y="272.4263">[ integer(8) message_num:</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="598" y="272.4263">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="611" y="272.4263">]</text><polygon fill="#A80036" points="396.5,318.625,406.5,322.625,396.5,326.625,400.5,322.625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="321.5" x2="402.5" y1="322.625" y2="322.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="63" x="328.5" y="317.5591">terminate</text><path d="M94,301.4922 L94,326.4922 L312,326.4922 L312,311.4922 L302,301.4922 L94,301.4922 " fill="#FBFB77" filter="url(#f11r9u570hpfz1)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M302,301.4922 L302,311.4922 L312,311.4922 L302,301.4922 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="175" x="100" y="318.5591">[ integer(8) message_num:</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="279" y="318.5591">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="292" y="318.5591">]</text><!--
@startuml
participant Device
participant VDevice
Device -> VDevice : announce
note left
        [ integer(8) message_num: **1**,
          integer(16) device_id: 1, 
          integer(16) buffer_length: 10 ]
end note
VDevice -> Device : ack
note right : [ integer(8) message_num: **2** ]
loop 10 times
Device -> VDevice : transfer
note left
  [ integer(8) message_num: **3**,
    integer(64) timestamp: 1546289032000,
    integer(64) adc_count:  28753 ]
end note
VDevice -> Device : ack
note right: [ integer(8) message_num: **4** ]
end
Device -> VDevice : terminate
note left: [ integer(8) message_num: **5** ]
@enduml

PlantUML version 1.2018.15beta2(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.7.0_25-b15
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>
